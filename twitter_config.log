irb(main):001:0> require 'rubygems'
=> true
irb(main):002:0> require 'oauth'
=> true
irb(main):003:0> CONSUMERKEY = "EkZzmg9e1urB2pdMusxuQ"
=> "EkZzmg9e1urB2pdMusxuQ"
irb(main):004:0> CONSUMERSECRET = "LbYynipCQq8nXoU0yzWhoIgQl6ykr2zjufoe4PkKAc"
=> "LbYynipCQq8nXoU0yzWhoIgQl6ykr2zjufoe4PkKAc"
irb(main):022:0> consumer=  OAuth::Consumer.new(CONSUMERKEY, CONSUMERSECRET, :site => "http://twitter.com")
=> #<OAuth::Consumer:0x1012da490 @secret="LbYynipCQq8nXoU0yzWhoIgQl6ykr2zjufoe4PkKAc", @key="EkZzmg9e1urB2pdMusxuQ", @options={:request_token_path=>"/oauth/request_token", :authorize_path=>"/oauth/authorize", :site=>"http://twitter.com", :oauth_version=>"1.0", :access_token_path=>"/oauth/access_token", :signature_method=>"HMAC-SHA1", :scheme=>:header, :proxy=>nil, :http_method=>:post}>
irb(main):023:0> request_token = consumer.get_request_token
=> #<OAuth::RequestToken:0x1012c5f68 @params={"oauth_callback_confirmed"=>"true", "oauth_token_secret"=>"jxstRPsYwwNyDQ2kOC8AHUSrOMAu5eUpkT4a4TbhI", :oauth_callback_confirmed=>"true", :oauth_token_secret=>"jxstRPsYwwNyDQ2kOC8AHUSrOMAu5eUpkT4a4TbhI", :oauth_token=>"et9SuPAMhpYwTwR1y6GLaYSLEbojhxgjyjlY8Gs5uM", "oauth_token"=>"et9SuPAMhpYwTwR1y6GLaYSLEbojhxgjyjlY8Gs5uM"}, @secret="jxstRPsYwwNyDQ2kOC8AHUSrOMAu5eUpkT4a4TbhI", @consumer=#<OAuth::Consumer:0x1012da490 @http_method=:post, @secret="LbYynipCQq8nXoU0yzWhoIgQl6ykr2zjufoe4PkKAc", @key="EkZzmg9e1urB2pdMusxuQ", @options={:request_token_path=>"/oauth/request_token", :authorize_path=>"/oauth/authorize", :site=>"http://twitter.com", :oauth_version=>"1.0", :access_token_path=>"/oauth/access_token", :signature_method=>"HMAC-SHA1", :scheme=>:header, :proxy=>nil, :http_method=>:post}, @http=#<Net::HTTP twitter.com:80 open=false>>, @token="et9SuPAMhpYwTwR1y6GLaYSLEbojhxgjyjlY8Gs5uM">
irb(main):024:0> request_token.authorize_url
=> "http://twitter.com/oauth/authorize?oauth_token=et9SuPAMhpYwTwR1y6GLaYSLEbojhxgjyjlY8Gs5uM"
irb(main):025:0> oauth_verifier = "6475586"
=> "6475586"
irb(main):026:0> access_token = request_token.get_access_token(:oauth_verifier => oauth_verifier)
=> #<OAuth::AccessToken:0x1006f5d00 @params={"oauth_token_secret"=>"irhW5hVeuXMkhdYlPaE6DrsYi0fu3lUM8w6cNMaGg", :user_id=>"20989679", :screen_name=>"furutatsu", :oauth_token_secret=>"irhW5hVeuXMkhdYlPaE6DrsYi0fu3lUM8w6cNMaGg", :oauth_token=>"20989679-vRVegGOaP6sTC1C8oLdZG4vwDI3xvTYk79rHd6Km9", "user_id"=>"20989679", "oauth_token"=>"20989679-vRVegGOaP6sTC1C8oLdZG4vwDI3xvTYk79rHd6Km9", "screen_name"=>"furutatsu"}, @secret="irhW5hVeuXMkhdYlPaE6DrsYi0fu3lUM8w6cNMaGg", @consumer=#<OAuth::Consumer:0x1012da490 @http_method=:post, @secret="LbYynipCQq8nXoU0yzWhoIgQl6ykr2zjufoe4PkKAc", @key="EkZzmg9e1urB2pdMusxuQ", @options={:request_token_path=>"/oauth/request_token", :authorize_path=>"/oauth/authorize", :site=>"http://twitter.com", :oauth_version=>"1.0", :access_token_path=>"/oauth/access_token", :signature_method=>"HMAC-SHA1", :scheme=>:header, :proxy=>nil, :http_method=>:post}, @http=#<Net::HTTP twitter.com:80 open=false>>, @token="20989679-vRVegGOaP6sTC1C8oLdZG4vwDI3xvTYk79rHd6Km9">
irb(main):027:0> access_tok = access_token.token
=> "20989679-vRVegGOaP6sTC1C8oLdZG4vwDI3xvTYk79rHd6Km9"
irb(main):028:0> access_secret = access_token.secret
=> "irhW5hVeuXMkhdYlPaE6DrsYi0fu3lUM8w6cNMaGg"
irb(main):037:0> Twitter.methods.sort
=> ["<", "<=", "<=>", "==", "===", "=~", ">", ">=", "__id__", "__send__", "adapter", "adapter=", "ancestors", "autoload", "autoload?", "b64encode", "class", "class_eval", "class_exec", "class_variable_defined?", "class_variables", "clone", "configure", "const_defined?", "const_get", "const_missing", "const_set", "constants", "consumer_key", "consumer_key=", "consumer_secret", "consumer_secret=", "decode64", "decode_b", "display", "dup", "encode64", "endpoint", "endpoint=", "enum_for", "eql?", "equal?", "extend", "format", "format=", "freeze", "frozen?", "gateway", "gateway=", "hash", "id", "include?", "included_modules", "inspect", "instance_eval", "instance_exec", "instance_method", "instance_methods", "instance_of?", "instance_variable_defined?", "instance_variable_get", "instance_variable_set", "instance_variables", "is_a?", "kind_of?", "method", "method_defined?", "method_missing", "methods", "module_eval", "module_exec", "name", "new", "nil?", "oauth_token", "oauth_token=", "oauth_token_secret", "oauth_token_secret=", "object_id", "options", "private_class_method", "private_instance_methods", "private_method_defined?", "private_methods", "protected_instance_methods", "protected_method_defined?", "protected_methods", "proxy", "proxy=", "public_class_method", "public_instance_methods", "public_method_defined?", "public_methods", "reset", "respond_to?", "search_endpoint", "search_endpoint=", "send", "singleton_methods", "taint", "tainted?", "tap", "to_a", "to_enum", "to_s", "type", "untaint", "user_agent", "user_agent="]
irb(main):038:0> Twitter.configure do |config|
irb(main):039:1* config.consumer_key = CONSUMERKEY
irb(main):040:1> config.consumer_secret = CONSUMERSECRET
irb(main):041:1> config.oauth_token = access_token.token
irb(main):042:1> config.oauth_token_secret = access_token.secret
irb(main):043:1> end
=> "irhW5hVeuXMkhdYlPaE6DrsYi0fu3lUM8w6cNMaGg"
irb(main):044:0> Twitter.user
=> <#Hashie::Mash contributors_enabled=false created_at="Mon Feb 16 14:39:03 +0000 2009" default_profile=false default_profile_image=false description="\351\231\242\347\224\237\343\201\240\343\201\253\343\202\203\343\202\223\343\200\202\350\266\243\345\221\263\343\201\257\343\202\262\343\203\274\343\203\240\343\200\201\346\274\253\347\224\273\343\200\201\343\203\227\343\203\255\343\202\260\343\203\251\343\203\237\343\203\263\343\202\260\343\200\201\351\211\204\351\201\223\343\201\250\347\214\253\343\201\250Mac\343\201\240\343\201\253\343\202\203\343\202\223\343\200\202\346\234\200\350\277\221Android\343\202\242\343\203\227\343\203\252\343\201\250Ruby\343\201\250PSPo2i\343\201\253\343\201\257\343\201\276\343\201\243\343\201\246\343\202\213\343\201\253\343\202\203\343\202\223\343\200\202\343\201\202\343\201\250\347\264\260\343\201\213\343\201\204\343\201\223\343\201\250\342\206\222 http://twpf.jp/furutatsu" favourites_count=126 follow_request_sent=nil followers_count=322 following=nil friends_count=323 geo_enabled=true id=20989679 id_str="20989679" is_translator=false lang="ja" listed_count=21 location="\345\237\274\347\216\211\347\234\214\347\213\255\345\261\261\345\270\202" name="\343\201\265\343\202\213\343\201\237\343\201\244" notifications=nil profile_background_color="EDECE9" profile_background_image_url="http://a1.twimg.com/images/themes/theme3/bg.gif" profile_background_image_url_https="https://si0.twimg.com/images/themes/theme3/bg.gif" profile_background_tile=false profile_image_url="http://a0.twimg.com/profile_images/1401395166/2011-06-18_07.32.41_normal.jpg" profile_image_url_https="https://si0.twimg.com/profile_images/1401395166/2011-06-18_07.32.41_normal.jpg" profile_link_color="088253" profile_sidebar_border_color="D3D2CF" profile_sidebar_fill_color="E3E2DE" profile_text_color="634047" profile_use_background_image=true protected=false screen_name="furutatsu" show_all_inline_media=false status=<#Hashie::Mash contributors=nil coordinates=nil created_at="Thu Aug 04 14:41:38 +0000 2011" favorited=false geo=nil id=99127862010970114 id_str="99127862010970114" in_reply_to_screen_name=nil in_reply_to_status_id=nil in_reply_to_status_id_str=nil in_reply_to_user_id=nil in_reply_to_user_id_str=nil place=nil retweet_count=0 retweeted=false source="<a href=\"http://sites.google.com/site/yorufukurou/\" rel=\"nofollow\">YoruFukurou</a>" text="\343\201\277\343\202\223\343\201\252UTF-8\343\201\253\343\201\231\343\202\214\343\201\260\343\201\204\343\201\204\343\201\252\343\201\243\343\201\246\343\200\202\343\201\235\343\201\206\345\203\225\343\201\257\351\241\230\343\201\243\343\201\246\343\201\204\343\202\213\343\200\202" truncated=false> statuses_count=4922 time_zone="Tokyo" url="http://d.hatena.ne.jp/nyannyanboo/" utc_offset=32400 verified=false>
irb(main):045:0> $KCONF = "UTF-8"
=> "UTF-8"
irb(main):047:0> usr = Twitter.user
=> <#Hashie::Mash contributors_enabled=false created_at="Mon Feb 16 14:39:03 +0000 2009" default_profile=false default_profile_image=false description="\351\231\242\347\224\237\343\201\240\343\201\253\343\202\203\343\202\223\343\200\202\350\266\243\345\221\263\343\201\257\343\202\262\343\203\274\343\203\240\343\200\201\346\274\253\347\224\273\343\200\201\343\203\227\343\203\255\343\202\260\343\203\251\343\203\237\343\203\263\343\202\260\343\200\201\351\211\204\351\201\223\343\201\250\347\214\253\343\201\250Mac\343\201\240\343\201\253\343\202\203\343\202\223\343\200\202\346\234\200\350\277\221Android\343\202\242\343\203\227\343\203\252\343\201\250Ruby\343\201\250PSPo2i\343\201\253\343\201\257\343\201\276\343\201\243\343\201\246\343\202\213\343\201\253\343\202\203\343\202\223\343\200\202\343\201\202\343\201\250\347\264\260\343\201\213\343\201\204\343\201\223\343\201\250\342\206\222 http://twpf.jp/furutatsu" favourites_count=126 follow_request_sent=nil followers_count=322 following=nil friends_count=323 geo_enabled=true id=20989679 id_str="20989679" is_translator=false lang="ja" listed_count=21 location="\345\237\274\347\216\211\347\234\214\347\213\255\345\261\261\345\270\202" name="\343\201\265\343\202\213\343\201\237\343\201\244" notifications=nil profile_background_color="EDECE9" profile_background_image_url="http://a1.twimg.com/images/themes/theme3/bg.gif" profile_background_image_url_https="https://si0.twimg.com/images/themes/theme3/bg.gif" profile_background_tile=false profile_image_url="http://a0.twimg.com/profile_images/1401395166/2011-06-18_07.32.41_normal.jpg" profile_image_url_https="https://si0.twimg.com/profile_images/1401395166/2011-06-18_07.32.41_normal.jpg" profile_link_color="088253" profile_sidebar_border_color="D3D2CF" profile_sidebar_fill_color="E3E2DE" profile_text_color="634047" profile_use_background_image=true protected=false screen_name="furutatsu" show_all_inline_media=false status=<#Hashie::Mash contributors=nil coordinates=nil created_at="Thu Aug 04 14:41:38 +0000 2011" favorited=false geo=nil id=99127862010970114 id_str="99127862010970114" in_reply_to_screen_name=nil in_reply_to_status_id=nil in_reply_to_status_id_str=nil in_reply_to_user_id=nil in_reply_to_user_id_str=nil place=nil retweet_count=0 retweeted=false source="<a href=\"http://sites.google.com/site/yorufukurou/\" rel=\"nofollow\">YoruFukurou</a>" text="\343\201\277\343\202\223\343\201\252UTF-8\343\201\253\343\201\231\343\202\214\343\201\260\343\201\204\343\201\204\343\201\252\343\201\243\343\201\246\343\200\202\343\201\235\343\201\206\345\203\225\343\201\257\351\241\230\343\201\243\343\201\246\343\201\204\343\202\213\343\200\202" truncated=false> statuses_count=4922 time_zone="Tokyo" url="http://d.hatena.ne.jp/nyannyanboo/" utc_offset=32400 verified=false>
irb(main):048:0> usr.keys
=> ["profile_sidebar_fill_color", "profile_background_tile", "name", "profile_sidebar_border_color", "profile_image_url", "location", "created_at", "profile_link_color", "id_str", "is_translator", "follow_request_sent", "default_profile", "contributors_enabled", "url", "favourites_count", "utc_offset", "profile_image_url_https", "id", "listed_count", "profile_use_background_image", "protected", "lang", "followers_count", "profile_text_color", "verified", "profile_background_image_url_https", "time_zone", "description", "geo_enabled", "profile_background_color", "notifications", "friends_count", "status", "default_profile_image", "profile_background_image_url", "statuses_count", "screen_name", "following", "show_all_inline_media"]
irb(main):049:0> usr[:profile_sidebar_fill_color]
=> "E3E2DE"
irb(main):050:0> usr[:name]
=> "\343\201\265\343\202\213\343\201\237\343\201\244"
irb(main):053:0> puts usr[:name]
ふるたつ
=> nil
irb(main):054:0> usr.keys.sort
=> ["contributors_enabled", "created_at", "default_profile", "default_profile_image", "description", "favourites_count", "follow_request_sent", "followers_count", "following", "friends_count", "geo_enabled", "id", "id_str", "is_translator", "lang", "listed_count", "location", "name", "notifications", "profile_background_color", "profile_background_image_url", "profile_background_image_url_https", "profile_background_tile", "profile_image_url", "profile_image_url_https", "profile_link_color", "profile_sidebar_border_color", "profile_sidebar_fill_color", "profile_text_color", "profile_use_background_image", "protected", "screen_name", "show_all_inline_media", "status", "statuses_count", "time_zone", "url", "utc_offset", "verified"]
irb(main):056:0> Twitter.update("アホなクライアントからツイートだぜ")
=> <#Hashie::Mash contributors=nil coordinates=nil created_at="Thu Aug 04 18:27:40 +0000 2011" favorited=false geo=nil id=99184745333800960 id_str="99184745333800960" in_reply_to_screen_name=nil in_reply_to_status_id=nil in_reply_to_status_id_str=nil in_reply_to_user_id=nil in_reply_to_user_id_str=nil place=nil retweet_count=0 retweeted=false source="<a href=\"https://github.com/frtts/\" rel=\"nofollow\">working-tweet</a>" text="\343\202\242\343\203\233\343\201\252\343\202\257\343\203\251\343\202\244\343\202\242\343\203\263\343\203\210\343\201\213\343\202\211\343\203\204\343\202\244\343\203\274\343\203\210\343\201\240\343\201\234" truncated=false user=<#Hashie::Mash contributors_enabled=false created_at="Mon Feb 16 14:39:03 +0000 2009" default_profile=false default_profile_image=false description="\351\231\242\347\224\237\343\201\240\343\201\253\343\202\203\343\202\223\343\200\202\350\266\243\345\221\263\343\201\257\343\202\262\343\203\274\343\203\240\343\200\201\346\274\253\347\224\273\343\200\201\343\203\227\343\203\255\343\202\260\343\203\251\343\203\237\343\203\263\343\202\260\343\200\201\351\211\204\351\201\223\343\201\250\347\214\253\343\201\250Mac\343\201\240\343\201\253\343\202\203\343\202\223\343\200\202\346\234\200\350\277\221Android\343\202\242\343\203\227\343\203\252\343\201\250Ruby\343\201\250PSPo2i\343\201\253\343\201\257\343\201\276\343\201\243\343\201\246\343\202\213\343\201\253\343\202\203\343\202\223\343\200\202\343\201\202\343\201\250\347\264\260\343\201\213\343\201\204\343\201\223\343\201\250\342\206\222 http://twpf.jp/furutatsu" favourites_count=126 follow_request_sent=false followers_count=322 following=false friends_count=323 geo_enabled=true id=20989679 id_str="20989679" is_translator=false lang="ja" listed_count=21 location="\345\237\274\347\216\211\347\234\214\347\213\255\345\261\261\345\270\202" name="\343\201\265\343\202\213\343\201\237\343\201\244" notifications=false profile_background_color="EDECE9" profile_background_image_url="http://a1.twimg.com/images/themes/theme3/bg.gif" profile_background_image_url_https="https://si0.twimg.com/images/themes/theme3/bg.gif" profile_background_tile=false profile_image_url="http://a0.twimg.com/profile_images/1401395166/2011-06-18_07.32.41_normal.jpg" profile_image_url_https="https://si0.twimg.com/profile_images/1401395166/2011-06-18_07.32.41_normal.jpg" profile_link_color="088253" profile_sidebar_border_color="D3D2CF" profile_sidebar_fill_color="E3E2DE" profile_text_color="634047" profile_use_background_image=true protected=false screen_name="furutatsu" show_all_inline_media=false statuses_count=4923 time_zone="Tokyo" url="http://d.hatena.ne.jp/nyannyanboo/" utc_offset=32400 verified=false>>
